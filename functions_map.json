{
  "project_info": {
    "name": "Hopfield Networks - Complete System",
    "version": "2.0",
    "last_updated": "2024-12-19",
    "description": "Complete pattern recognition and reconstruction system using Hopfield networks with English interface and improved formatting"
  },
  "types": {
    "Pattern": {
      "alias": "std::vector<int>",
      "description": "Flattened 5x5 pattern with values in { -1, 1 } (1 = filled cell)."
    },
    "Matrix": {
      "alias": "std::vector<std::vector<int>>",
      "description": "Matrix of integers (often 0/1) e.g. 5x5 or 10x10 grid."
    }
  },
  "functions": [
    {
      "name": "printPatternWithDifferences",
      "signature": "void printPatternWithDifferences(const Pattern& original, const Pattern& recalled)",
      "params": [
        { "name": "original", "type": "Pattern", "description": "Reference 5x5 pattern." },
        { "name": "recalled", "type": "Pattern", "description": "Pattern reconstructed by Hopfield network." }
      ],
      "returns": "void",
      "description": "Prints 5x5 grid showing differences: green blocks for matching 1/1, red for cases where recalled=1 but original!=1, yellow for lost cells, white for empty.",
      "occurrences": [ { "start_line": 11, "end_line": 26 } ],
      "features": ["ANSI color coding", "Fixed-width formatting with spaces"]
    },
    {
      "name": "flatten",
      "signature": "Pattern flatten(const std::vector<std::vector<int>>& grid)",
      "params": [
        { "name": "grid", "type": "std::vector<std::vector<int>>", "description": "5x5 grid with 0/1 values." }
      ],
      "returns": "Pattern",
      "description": "Converts 0/1 grid to vector of length 25 with values { -1, 1 }.",
      "occurrences": [ { "start_line": 31, "end_line": 37 } ]
    },
    {
      "name": "sgn",
      "signature": "int sgn(int x)",
      "params": [ { "name": "x", "type": "int" } ],
      "returns": "int",
      "description": "Sign function: returns 1 for x>=0, otherwise -1.",
      "occurrences": [ { "start_line": 39, "end_line": 41 } ]
    },
    {
      "name": "train",
      "signature": "Matrix train(const std::vector<Pattern>& patterns)",
      "params": [ { "name": "patterns", "type": "std::vector<Pattern>", "description": "Set of patterns to train weights W." } ],
      "returns": "Matrix",
      "description": "Hopfield network training using Hebb's method: W[i][j] += p[i]*p[j] for i!=j, summed over all patterns.",
      "occurrences": [ { "start_line": 43, "end_line": 51 } ]
    },
    {
      "name": "recall",
      "signature": "Pattern recall(const Matrix& W, Pattern input, int maxIter = 100)",
      "params": [
        { "name": "W", "type": "Matrix", "description": "Trained weight matrix." },
        { "name": "input", "type": "Pattern", "description": "Starting pattern for reconstruction." },
        { "name": "maxIter", "type": "int", "default": 100 }
      ],
      "returns": "Pattern",
      "description": "Synchronous neuron updates until convergence: sgn(âˆ‘ W[i][j]*x[j]). Returns reconstructed pattern.",
      "occurrences": [ { "start_line": 53, "end_line": 69 } ]
    },
    {
      "name": "printPattern",
      "signature": "void printPattern(const Pattern& p)",
      "params": [ { "name": "p", "type": "Pattern" } ],
      "returns": "void",
      "description": "Prints 5x5 pattern using '#' for value 1 and '.' for -1, with fixed-width formatting.",
      "occurrences": [ { "start_line": 71, "end_line": 81 } ],
      "features": ["ANSI color coding", "Fixed-width formatting with spaces"]
    },
    {
      "name": "readUserPatternWithPreview",
      "signature": "Pattern readUserPatternWithPreview()",
      "params": [],
      "returns": "Pattern",
      "description": "Interactive input of 25 values (0/1) with real-time grid preview. Returns flattened pattern { -1, 1 }.",
      "occurrences": [ { "start_line": 83, "end_line": 113 } ],
      "features": ["Real-time preview", "Input validation", "English interface"]
    },
    {
      "name": "savePatterns",
      "signature": "void savePatterns(const std::vector<Pattern>& patterns, const std::string& filename)",
      "params": [
        { "name": "patterns", "type": "std::vector<Pattern>" },
        { "name": "filename", "type": "std::string" }
      ],
      "returns": "void",
      "description": "Saves each pattern as 25 space-separated values (one pattern per line).",
      "occurrences": [ { "start_line": 115, "end_line": 124 } ],
      "features": ["English error messages"]
    },
    {
      "name": "loadPatterns",
      "signature": "void loadPatterns(std::vector<Pattern>& patterns, const std::string& filename)",
      "params": [
        { "name": "patterns", "type": "std::vector<Pattern>&" },
        { "name": "filename", "type": "std::string" }
      ],
      "returns": "void",
      "description": "Loads patterns from file: each line contains 25 numbers. Skips incomplete lines.",
      "occurrences": [ { "start_line": 126, "end_line": 145 } ],
      "features": ["English error messages"]
    },
    {
      "name": "matchScore",
      "signature": "int matchScore(const Matrix& large, const Matrix& small, int row, int col)",
      "params": [
        { "name": "large", "type": "Matrix", "description": "Large matrix (e.g. 10x10)." },
        { "name": "small", "type": "Matrix", "description": "5x5 pattern." },
        { "name": "row", "type": "int" },
        { "name": "col", "type": "int" }
      ],
      "returns": "int",
      "description": "Counts matching cells in 5x5 window anchored at (row, col).",
      "occurrences": [ { "start_line": 147, "end_line": 154 } ]
    },
    {
      "name": "findBestMatch",
      "signature": "std::pair<int,int> findBestMatch(const Matrix& large, const Matrix& small)",
      "params": [ { "name": "large", "type": "Matrix" }, { "name": "small", "type": "Matrix" } ],
      "returns": "std::pair<int,int>",
      "description": "Searches all possible 5x5 positions and returns coordinates (row, col) of best match.",
      "occurrences": [ { "start_line": 156, "end_line": 168 } ]
    },
    {
      "name": "printOverlay",
      "signature": "void printOverlay(const Matrix& large, const Matrix& small, int row, int col, const Pattern& recalled)",
      "params": [
        { "name": "large", "type": "Matrix" },
        { "name": "small", "type": "Matrix" },
        { "name": "row", "type": "int" },
        { "name": "col", "type": "int" },
        { "name": "recalled", "type": "Pattern" }
      ],
      "returns": "void",
      "description": "Prints large matrix with overlaid 5x5 reconstruction: green for matching 1s, red for 'fixes', yellow for lost cells.",
      "occurrences": [ { "start_line": 170, "end_line": 199 } ],
      "features": ["ANSI color coding", "Fixed-width formatting", "Row/column numbering", "Legend"]
    },
    {
      "name": "printPatternComparison",
      "signature": "void printPatternComparison(const Pattern& original, const Pattern& recalled)",
      "params": [
        { "name": "original", "type": "Pattern" },
        { "name": "recalled", "type": "Pattern" }
      ],
      "returns": "void",
      "description": "Prints side-by-side comparison of original and reconstructed patterns with difference analysis.",
      "occurrences": [ { "start_line": 201, "end_line": 210 } ],
      "features": ["ANSI color coding", "English labels"]
    },
    {
      "name": "demoPatternSearch",
      "signature": "void demoPatternSearch()",
      "params": [],
      "returns": "void",
      "description": "Demonstrates pattern search in large matrix with noise, training, and reconstruction visualization.",
      "occurrences": [ { "start_line": 212, "end_line": 274 } ],
      "features": ["English interface", "Fixed-width formatting", "ANSI colors", "Row/column numbering"]
    },
    {
      "name": "showPatternLibrary",
      "signature": "void showPatternLibrary(const std::vector<Pattern>& patterns)",
      "params": [
        { "name": "patterns", "type": "std::vector<Pattern>" }
      ],
      "returns": "void",
      "description": "Displays all patterns in the library with numbered formatting.",
      "occurrences": [ { "start_line": 276, "end_line": 288 } ],
      "features": ["English interface", "Numbered patterns"]
    },
    {
      "name": "testPatternRecognition",
      "signature": "void testPatternRecognition(const std::vector<Pattern>& patterns, const Matrix& W)",
      "params": [
        { "name": "patterns", "type": "std::vector<Pattern>" },
        { "name": "W", "type": "Matrix" }
      ],
      "returns": "void",
      "description": "Tests pattern recognition by allowing user to input test pattern and comparing with library patterns.",
      "occurrences": [ { "start_line": 290, "end_line": 318 } ],
      "features": ["English interface", "Similarity percentage", "Pattern comparison"]
    }
  ],
  "entry_points": [
    {
      "name": "main",
      "description": "Interactive menu-driven Hopfield network system with 9 options.",
      "key_features": [
        "Loads patterns from patterns.txt, creates 4 default patterns if file missing",
        "Trains weight matrix W using Hebb's method",
        "Option 1: Add new 5x5 pattern with real-time preview",
        "Option 2: Reconstruct pattern from user input",
        "Option 3: Test pattern recognition with similarity analysis",
        "Option 4: Show pattern library",
        "Option 5: Demo pattern search in large matrix",
        "Option 6: Save patterns to file",
        "Option 7: Load patterns from file",
        "Option 8: System information with pause",
        "Option 9: Exit"
      ],
      "occurrences": [ { "start_line": 320, "end_line": 432 } ],
      "features": ["English interface", "4 default patterns including Triangle (T)", "Automatic cleanup", "Error handling"]
    }
  ],
  "default_patterns": [
    {
      "name": "Square",
      "pattern": "Frame with empty center",
      "grid": "11111,10001,10001,10001,11111"
    },
    {
      "name": "Cross", 
      "pattern": "Vertical and horizontal lines",
      "grid": "00100,00100,11111,00100,00100"
    },
    {
      "name": "X",
      "pattern": "Diagonal lines",
      "grid": "10001,01010,00100,01010,10001"
    },
    {
      "name": "Triangle (T)",
      "pattern": "T-shaped pattern",
      "grid": "00100,01010,11111,00000,00000"
    }
  ],
  "recent_changes": [
    "2024-12-19: Converted all Polish text to English for better compatibility",
    "2024-12-19: Added fixed-width formatting with spaces for better matrix display",
    "2024-12-19: Added Triangle (T) pattern to default patterns",
    "2024-12-19: Improved ANSI color coding and legend display",
    "2024-12-19: Added row/column numbering for large matrices",
    "2024-12-19: Fixed infinite loop issue in system information display",
    "2024-12-19: Enhanced pattern comparison with better visual formatting"
  ],
  "compilation": {
    "compiler": "g++ (MinGW)",
    "flags": "-std=c++17 -O2 -Wall -Wextra",
    "script": "compile.bat",
    "features": ["Automatic cleanup of previous binary", "Error handling", "Success confirmation"]
  },
  "notes": [
    "All text is now in English to avoid encoding issues with Polish characters",
    "Fixed-width formatting ensures consistent matrix display across terminals",
    "ANSI color codes work best in Windows Terminal/PowerShell",
    "No weight normalization in train() method",
    "Program automatically removes previous binary before compilation",
    "Triangle (T) pattern added to improve recognition of T-shaped inputs"
  ]
}